{%  extends "flashcards/base.html" %}
{%  load static  %}

{%  block title  %}{{title}}{%  endblock  %}

{%  block content  %}
<br><br><br>
{%  for category in categories %}
<div class="category-container">
    <div class="category" style="margin-left: 50px;">
        <span class="category_text">
        {{ category }} ({{ category.flashcards.count }})
        </span>
        <a href="{% url 'learning_flashcards' category.id %}"><button type="button" class="list_update_button" >Learning</button></a>
        <a href="{% url 'learning_flashcards' category.id %}?reverse=1"><button type="button" class="list_update_button" >Learning by second side</button></a>
    </div>
    <div class="group_buttons">
        <a href="{% url 'get_cards_in_category' category.id %}"><button class="list_update_button" type="button">Get all cards</button></a>
        <a href="{% url 'update_category' category.id %}"><button class="list_update_button" type="button">Update category</button></a>
        <button onclick="openDeleteDialog({{ category.id  }}, '{{ category  }}')" class="list_delete_button">Delete</button>
    </div>
    <dialog id="deleteDialog">
      <form method="POST" action="{%  url 'delete_category'  %}">
        {% csrf_token %}
        <p id="deleteText"></p>
        <input type="hidden" name="category_id" id="deleteId" value="{{ category.id }}">
        <button type="reset" onclick="document.getElementById('deleteDialog').close()">Назад</button>
        <button type="submit">Удалить</button>
      </form>
    </dialog>
</div>
<hr>
{%  endfor  %}
<script src="{%  static 'flashcards/js/delete_dialog_script.js'  %}"></script>
{%  endblock  %}